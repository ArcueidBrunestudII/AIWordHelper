<Window x:Class="AIWordHelper.Views.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="AI划词助手 - 控制台" Height="600" Width="500"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanMinimize">
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- API配置区 -->
        <GroupBox Grid.Row="0" Header="API 配置" Margin="0,0,0,10">
            <StackPanel Margin="10">
                <TextBlock Text="API URL:" Margin="0,0,0,5"/>
                <TextBox x:Name="TxtApiUrl" Margin="0,0,0,10"/>

                <TextBlock Text="API Key:" Margin="0,0,0,5"/>
                <PasswordBox x:Name="TxtApiKey" Margin="0,0,0,10"/>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <ComboBox x:Name="CmbModels" Grid.Column="0" Margin="0,0,10,0"/>
                    <Button x:Name="BtnRefreshModels" Grid.Column="1" Content="刷新模型"
                            Padding="15,5" Click="BtnRefreshModels_Click"/>
                </Grid>
            </StackPanel>
        </GroupBox>

        <!-- 行为配置区 -->
        <GroupBox Grid.Row="1" Header="行为配置" Margin="0,0,0,10">
            <StackPanel Margin="10">
                <TextBlock Text="等待时间（秒）:" Margin="0,0,0,5"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="60"/>
                    </Grid.ColumnDefinitions>
                    <Slider x:Name="SliderWaitTime" Grid.Column="0"
                            Minimum="0.5" Maximum="10" TickFrequency="0.5"
                            IsSnapToTickEnabled="True"
                            ValueChanged="SliderWaitTime_ValueChanged"/>
                    <TextBox x:Name="TxtWaitTime" Grid.Column="1" Margin="10,0,0,0"
                             TextAlignment="Center" VerticalContentAlignment="Center"/>
                </Grid>
            </StackPanel>
        </GroupBox>

        <!-- 提示词管理区 -->
        <GroupBox Grid.Row="2" Header="提示词管理">
            <Grid Margin="10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <ListBox x:Name="LstPrompts" Grid.Row="0" Margin="0,0,0,10"
                         SelectionChanged="LstPrompts_SelectionChanged">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <CheckBox Content="{Binding Name}" IsChecked="{Binding IsEnabled}"
                                      Checked="PromptCheckBox_Changed" Unchecked="PromptCheckBox_Changed"/>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>

                <Grid Grid.Row="1" Margin="0,0,0,10">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="名称:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <TextBox x:Name="TxtPromptName" Grid.Column="1"/>
                </Grid>

                <Grid Grid.Row="2">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="80"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <TextBlock Text="内容:" Margin="0,0,0,5"/>
                    <TextBox x:Name="TxtPromptContent" Grid.Row="1"
                             AcceptsReturn="True" TextWrapping="Wrap"
                             VerticalScrollBarVisibility="Auto"/>
                    <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
                        <Button x:Name="BtnNewPrompt" Content="新建" Padding="20,5" Margin="0,0,10,0"
                                Click="BtnNewPrompt_Click"/>
                        <Button x:Name="BtnUpdatePrompt" Content="更新" Padding="20,5" Margin="0,0,10,0"
                                Click="BtnUpdatePrompt_Click"/>
                        <Button x:Name="BtnDeletePrompt" Content="删除" Padding="20,5"
                                Click="BtnDeletePrompt_Click"/>
                    </StackPanel>
                </Grid>
            </Grid>
        </GroupBox>

        <!-- 保存按钮 -->
        <Button Grid.Row="3" Content="保存配置" Padding="30,10" HorizontalAlignment="Center"
                Margin="0,10,0,0" Click="BtnSave_Click"/>
    </Grid>
</Window>
